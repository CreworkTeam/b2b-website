---
import CaseStudyCard from '@/components/case-study-card.astro';

const cards = [
  {
    title: 'Custom Learning Management System',
    description:
      'How we empowered Crework to increase engagement by deliver tailored learning experiences to aspiring Product Managers',
    span: '65% increase in Engagement Rate',
    tags: ['Custom LMS Development', 'Product Design', 'User Experience Research'],
    images: [
      {
        src: '/portfolio/dashboard-2.png',
        alt: 'Dashboard',
      },
      {
        src: '/portfolio/dashboard.png',
        alt: 'Dashboard',
      },
    ],
    rtl: false,
    link: '/case-studies/custom-learning-management-system',
  },
  {
    title: 'Instant Business Valuation Web Application',
    description: 'How we built a quick, data-driven business valuations tool for FundsFinders',
    span: '47% increase in leads generation',
    tags: ['Product Design', 'User Experience Optimization', 'Web App Development'],
    images: [
      {
        src: '/portfolio/fundsfinder.png',
        alt: 'FundsFinder',
      },
      {
        src: '/portfolio/fundsfinder-2.svg',
        alt: 'FundsFinder',
      },
    ],
    rtl: true,
    link: '/case-studies/instant-business-valuation-web-application',
  },
  {
    title: 'Global Service Provider Website Redesign',
    description:
      'How we helped Travay Group with a complete redesign of their website to improve user experience and navigation',
    span: '50% increase in Conversion Rate',
    tags: ['User Interface Redesign', 'Website Development', 'Information Architecture'],
    images: [
      {
        src: '/portfolio/travaygroup.png',
        alt: 'Travay Group',
      },
      {
        src: '/portfolio/travaygroup-2.svg',
        alt: 'Travay Group',
      },
    ],
    link: '/case-studies/global-service-provider-website-redesign',
  },
];
---

<section id="case-studies" class="section-container" data-section="case-studies">
  <div
    class="absolute left-0 top-0 h-3 w-3 -translate-x-1/2 -translate-y-1/2 rounded-full bg-gradient-to-b from-white to-[#ECECEC] p-[2px] sm:h-7 sm:w-7"
    style="box-shadow: 0px 0px 0.468888px 0.468888px rgba(0, 0, 0, 0.07), 0px 0px 0.468888px 1.40666px rgba(0, 0, 0, 0.05), 0px 5.62666px 6.09555px -2.81333px rgba(0, 0, 0, 0.25), 0px 1.87555px 7.50221px 1.87555px rgba(0, 0, 0, 0.12);"
  >
    <div class="h-full w-full rounded-full bg-gradient-to-b from-[#F4F4F4] to-[#FEFEFE]"></div>
  </div>
  <div
    class="absolute right-0 top-0 m-0 h-3 w-3 -translate-y-1/2 translate-x-1/2 rounded-full bg-gradient-to-b from-white to-[#ECECEC] p-[2px] sm:h-7 sm:w-7"
    style="box-shadow: 0px 0px 0.468888px 0.468888px rgba(0, 0, 0, 0.07), 0px 0px 0.468888px 1.40666px rgba(0, 0, 0, 0.05), 0px 5.62666px 6.09555px -2.81333px rgba(0, 0, 0, 0.25), 0px 1.87555px 7.50221px 1.87555px rgba(0, 0, 0, 0.12);"
  >
    <div class="h-full w-full rounded-full bg-gradient-to-b from-[#F4F4F4] to-[#FEFEFE]"></div>
  </div>
  <div class="mx-auto mb-12 max-w-3xl space-y-6 text-center md:mb-20">
    <h2 class="text-balance text-center text-3xl font-semibold">
      Case Studies: Transforming Ideas into Impact
    </h2>
    <p>Discover the creative process that drives our success.</p>
  </div>
  <div class="relative space-y-16" id="case-study-container">
    {
      cards.map(({ title, description, span, tags, images, rtl, link }, index) => (
        <CaseStudyCard
          title={title}
          description={description}
          span={span}
          tags={tags}
          images={images}
          rtl={rtl}
          link={link}
          sticky={true}
          index={index}
          length={cards.length}
        />
      ))
    }
  </div>
  <a href="/case-studies" class="btn mx-auto mt-12 block w-fit px-8 text-center"
    >View All Case Studies</a
  >
</section>
<script>
  const caseStudyContainer = document.querySelector('#case-study-container') as HTMLElement;

  window.addEventListener(
    'scroll',
    () => {
      const bounds = caseStudyContainer.getBoundingClientRect();
      const scroll = (bounds.top * -1) / bounds.height;
      caseStudyContainer.style.setProperty('--scroll', `${scroll}`);
    },
    false,
  );
</script>
